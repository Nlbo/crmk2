<div class="chat-list-content">
  <nz-list nzItemLayout="horizontal" [nzLoading]="loading">
    <nz-list-item *ngFor="let customer of customersList" class="chat-list-item"
                  (click)="setIsBlockedState(customer.is_blocked)"
                  [routerLink]="['', 'messenger', 'chats', chatId, customer.id]" [routerLinkActive]="'active'" [class.blocked]="customer.is_blocked">
      <nz-list-item-meta class="chat-list-item-meta" [style.padding]="'0 10px'"
                         [nzAvatar]="avatar"
                         nz-tooltip
                         [nzTooltipTitle]="customer.manager.title"
                         [nzDescription]="customer.manager.title">
        <ng-template #avatar>
          <app-avatar-generator [color]="getLocalStorageItem(customer.manager.id)" [setLocalStorageColorById]="customer.manager.id" [firstName]="customer.manager.title" [avatar]="customer.manager.avatar?.file_url"></app-avatar-generator>
        </ng-template>
        <nz-list-item-meta-title class="chat-list-item-title">
          <span [innerHTML]="customer?.messages[0]?.text"></span>
        </nz-list-item-meta-title>
      </nz-list-item-meta>
    </nz-list-item>
    <nz-list-empty *ngIf="customersList.length === 0"></nz-list-empty>
  </nz-list>
</div>
